# 사용 사례 문서 - 마크다운 블로그 (Velog 클론)

## 사용 사례 1: 블로그 포스트 작성
- **액터**: 인증된 사용자.
- **설명**: 사용자가 마크다운으로 블로그 포스트를 작성하고 게시.
- **전제 조건**: Supabase Auth로 로그인 완료, 마크다운 에디터 로드.
- **기본 흐름**:
  1. 사용자가 "/write" 경로로 이동.
  2. Tiptap 에디터에서 제목, 마크다운 본문, 태그 입력.
  3. 공개/비공개 설정 선택.
  4. "게시" 버튼 클릭 시 Supabase `posts` 테이블에 저장.
  5. 포스트 목록 또는 상세 페이지로 리다이렉트.
- **예외 상황**:
  - 로그인하지 않은 경우, 401 에러와 함께 로그인 페이지로 리다이렉트.
  - 네트워크 오류 시 재시도 알림 표시.
- **결과**: 포스트가 DB에 저장되고, 공개/비공개 설정에 따라 표시.

## 사용 사례 2: Adsense 광고 표시
- **액터**: 모든 방문자 (인증/비인증).
- **설명**: 포스트 페이지에 Adsense 광고 표시.
- **전제 조건**: Google Adsense 계정 승인, Next.js에 광고 스크립트 통합.
- **기본 흐름**:
  1. 방문자가 포스트 페이지(`/posts/[id]`)에 접속.
  2. Next.js Layout에서 `<ins>` 태그로 광고 로드.
  3. 광고가 포스트 하단/사이드바에 표시.
- **예외 상황**:
  - 광고 차단기 감지 시 대체 콘텐츠 표시.
  - 스크립트 로드 실패 시 UI 손상 없이 오류 로깅.
- **결과**: 광고 노출, 클릭 시 수익 발생.

## 사용 사례 3: 포스트에 댓글 작성
- **액터**: 인증된 사용자.
- **설명**: 사용자가 블로그 포스트에 댓글 작성.
- **전제 조건**: 로그인 완료, 포스트 페이지 로드.
- **기본 흐름**:
  1. 사용자가 포스트 페이지로 이동.
  2. 댓글 입력란에 텍스트 입력.
  3. "제출" 버튼 클릭 시 Supabase `comments` 테이블에 저장.
  4. Supabase Realtime으로 댓글 실시간 표시.
- **예외 상황**:
  - 로그인하지 않은 경우, 로그인 유도.
  - 댓글이 비어 있으면 제출 버튼 비활성화.
- **결과**: 댓글이 저장되고 모든 방문자에게 표시.